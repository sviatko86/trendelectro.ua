<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trend Electro ‚Äî –û—Ñ—ñ—Ü—ñ–π–Ω–∏–π –º–∞–≥–∞–∑–∏–Ω</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');
        body { font-family: 'Inter', sans-serif; background: #f8fafc; }
        .product-card { transition: 0.3s; border-radius: 20px; background: white; border: 1px solid #e2e8f0; display: flex; flex-direction: column; height: 100%; }
        .product-card:hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(0,0,0,0.05); border-color: #fbbf24; }
        .category-btn.active { background: #fbbf24; color: black; box-shadow: 0 4px 12px rgba(251,191,36,0.3); }
        .out-of-stock { opacity: 0.5; }
    </style>
</head>
<body class="text-slate-900">

<script>
    const MARKUP = 1.5; // –¢–≤–æ—è –Ω–∞—Ü—ñ–Ω–∫–∞ +50%

    // –¢–í–û–Ø –ë–ê–ó–ê (–¢—É—Ç —Ç–∏ –º–æ–∂–µ—à –≤—Å—Ç–∞–≤–∏—Ç–∏ –≤—Å—ñ —Ç–æ–≤–∞—Ä–∏ –∑ Excel)
    const rawProducts = [
        { sku: "11-11-14", name: "LED –ª–∞–º–ø–∞ LEBRON L-A60, 8W, –ï27, 4100K", inPrice: 27, stock: "0" },
        { sku: "11-11-17-1", name: "LED –ª–∞–º–ø–∞ LEBRON L-A60-82730, 8W, –ï27, 3000K", inPrice: 27, stock: "10" },
        { sku: "11-11-18-2", name: "LED –ª–∞–º–ø–∞ LEBRON L-A60-82741, 8W, –ï27, 4100K", inPrice: 27, stock: "10" },
        { sku: "89-99-23", name: "–ï–ª–µ–∫—Ç—Ä–æ—Ñ—É–º—ñ–≥–∞—Ç–æ—Ä —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏–π –∑ –±–ª—ñ—Å—Ç–µ—Ä–æ–º, –ù–ï–ö–£–°–ê–ô–ö–ê", inPrice: 46.8, stock: "10" },
        { sku: "89-99-28", name: "–ö–æ–º–ø–ª–µ–∫—Ç: –ø—Ä–∏–ª–∞–¥ + —Ä—ñ–¥–∏–Ω–∞ –≤—ñ–¥ –∫–æ–º–∞—Ä—ñ–≤, –ù–ï–ö–£–°–ê–ô–ö–ê", inPrice: 96.3, stock: "10" },
        { sku: "75-90-50", name: "–ú–∞—Å–ª—è–Ω–∏–π —Ñ—ñ–ª—å—Ç—Ä GUCBIR OF-1", inPrice: 120, stock: "10" }
    ];

    const products = rawProducts.map(p => ({
        ...p,
        price: Math.round(p.inPrice * MARKUP),
        cat: getCategory(p.name),
        isAvailable: p.stock !== "0"
    }));

    function getCategory(name) {
        const n = name.toLowerCase();
        if (n.includes("–ª–∞–º–ø–∞")) return "–õ–∞–º–ø–∏";
        if (n.includes("–∫–æ–º–∞—Ä") || n.includes("—Ñ—É–º—ñ–≥–∞—Ç–æ—Ä") || n.includes("–Ω–µ–∫—É—Å–∞–π–∫–∞")) return "–ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ –∫–æ–º–∞—Ö";
        if (n.includes("—Ñ—ñ–ª—å—Ç—Ä") || n.includes("gucbir")) return "–ó–∞–ø—á–∞—Å—Ç–∏–Ω–∏ —Ç–∞ –ì–µ–Ω–µp–∞—Ç–æ—Ä–∏";
        return "–Ü–Ω—à–µ";
    }

    let cart = [];
    let currentCat = "–í—Å—ñ";
</script>

<header class="bg-white border-b sticky top-0 z-50 shadow-sm">
    <div class="container mx-auto px-4 py-4 flex flex-col md:flex-row items-center justify-between gap-4">
        <div class="flex items-center gap-3 cursor-pointer" onclick="location.reload()">
            <div class="bg-yellow-400 p-3 rounded-xl shadow-lg">
                <i class="fas fa-bolt text-xl"></i>
            </div>
            <h1 class="text-xl font-black uppercase italic tracking-tighter">Trend <span class="text-yellow-500 text-2xl">Electro</span></h1>
        </div>
        
        <div class="flex-1 max-w-xl w-full relative">
            <input type="text" id="searchInput" oninput="render()" placeholder="–ü–æ—à—É–∫ —Ç–æ–≤–∞—Ä—É –∞–±–æ –∫–æ–¥—É..." class="w-full bg-slate-100 border-2 border-transparent focus:border-yellow-400 focus:bg-white rounded-xl py-3 px-5 outline-none transition font-medium">
        </div>

        <button onclick="toggleCart()" class="bg-slate-900 text-white px-6 py-3 rounded-xl flex items-center gap-3 shadow-lg active:scale-95 transition">
            <i class="fas fa-shopping-cart text-yellow-400"></i>
            <span id="cartCount" class="font-black">0</span>
        </button>
    </div>
</header>

<main class="container mx-auto px-4 py-8 flex flex-col lg:flex-row gap-8">
    <aside class="w-full lg:w-64 flex-shrink-0">
        <div class="sticky top-24 space-y-2" id="catMenu"></div>
    </aside>

    <div class="flex-1">
        <div id="productGrid" class="grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6"></div>
    </div>
</main>

<div id="cartModal" class="fixed inset-0 bg-black/60 z-[100] hidden flex justify-end backdrop-blur-sm">
    <div class="bg-white w-full max-w-md h-full p-8 flex flex-col shadow-2xl">
        <div class="flex justify-between items-center mb-8">
            <h2 class="text-2xl font-black uppercase italic">–ö–æ—à–∏–∫</h2>
            <button onclick="toggleCart()"><i class="fas fa-times text-2xl text-slate-300"></i></button>
        </div>
        <div id="cartItems" class="flex-1 overflow-y-auto space-y-3"></div>
        <div class="pt-6 border-t mt-6">
            <div class="flex justify-between items-center mb-4 italic font-black text-xl">
                <span>–†–ê–ó–û–ú:</span>
                <span id="cartTotal">0 –≥—Ä–Ω</span>
            </div>
            <input type="text" id="userPhone" placeholder="–í–∞—à –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É" class="w-full p-4 bg-slate-50 border-2 border-slate-100 rounded-xl mb-4 font-bold outline-none focus:border-yellow-400 transition">
            <button onclick="sendOrder()" class="w-full bg-yellow-400 text-black py-5 rounded-2xl font-black uppercase tracking-widest shadow-xl active:scale-95 transition">–û—Ñ–æ—Ä–º–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</button>
        </div>
    </div>
</div>

<script>
    function render() {
        const query = document.getElementById('searchInput').value.toLowerCase();
        const grid = document.getElementById('productGrid');
        grid.innerHTML = '';

        const categories = ["–í—Å—ñ", ...new Set(products.map(p => p.cat))];
        const catMenu = document.getElementById('catMenu');
        catMenu.innerHTML = categories.map(c => `
            <button onclick="setCat('${c}')" class="category-btn w-full text-left px-5 py-3 rounded-xl font-bold text-sm transition ${currentCat === c ? 'active' : 'text-slate-500 hover:bg-slate-100'}">
                ${c}
            </button>
        `).join('');

        const filtered = products.filter(p => {
            const matchesSearch = p.name.toLowerCase().includes(query) || p.sku.toLowerCase().includes(query);
            const matchesCat = currentCat === "–í—Å—ñ" || p.cat === currentCat;
            return matchesSearch && matchesCat;
        });

        filtered.forEach(p => {
            grid.innerHTML += `
                <div class="product-card p-6 ${!p.isAvailable ? 'out-of-stock' : ''}">
                    <div class="mb-2">
                        <span class="text-[10px] font-black text-slate-300 uppercase tracking-widest">${p.sku}</span>
                    </div>
                    <h3 class="font-bold text-sm leading-tight mb-8 flex-1 text-slate-800">${p.name}</h3>
                    <div class="flex justify-between items-center pt-4 border-t border-slate-50">
                        <span class="text-xl font-black">${p.isAvailable ? p.price + ' <small class="text-xs">–≥—Ä–Ω</small>' : '<span class="text-slate-400 text-sm italic">–ù–µ–º–∞—î</span>'}</span>
                        ${p.isAvailable ? `
                            <button onclick="addToCart('${p.sku}')" class="bg-slate-900 text-white w-10 h-10 rounded-xl hover:bg-yellow-400 hover:text-black transition shadow-md active:scale-90 flex items-center justify-center">
                                <i class="fas fa-plus"></i>
                            </button>
                        ` : ''}
                    </div>
                </div>
            `;
        });
    }

    function setCat(c) { currentCat = c; render(); }
    function toggleCart() { document.getElementById('cartModal').classList.toggle('hidden'); }

    function addToCart(sku) {
        const p = products.find(x => x.sku === sku);
        cart.push(p);
        updateCart();
    }

    function updateCart() {
        document.getElementById('cartCount').innerText = cart.length;
        const total = cart.reduce((sum, item) => sum + item.price, 0);
        document.getElementById('cartTotal').innerText = total + " –≥—Ä–Ω";
        const list = document.getElementById('cartItems');
        list.innerHTML = cart.map((item, idx) => `
            <div class="bg-slate-50 p-4 rounded-xl flex justify-between items-center">
                <div class="max-w-[80%] text-xs font-bold">${item.name}</div>
                <button onclick="cart.splice(${idx}, 1); updateCart();" class="text-slate-300 hover:text-red-500"><i class="fas fa-trash-alt"></i></button>
            </div>
        `).join('');
    }

    function sendOrder() {
        const phone = document.getElementById('userPhone').value;
        if(!phone || cart.length === 0) return alert("–î–æ–¥–∞–π—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É —Ç–∞ —Ç–æ–≤–∞—Ä–∏!");
        
        const total = cart.reduce((sum, item) => sum + item.price, 0);
        let msg = `‚ö°Ô∏è TREND ELECTRO\nüìû –ö–ª—ñ—î–Ω—Ç: ${phone}\nüí∞ –°—É–º–∞: ${total} –≥—Ä–Ω\n\n–¢–æ–≤–∞—Ä–∏:\n` + 
                  cart.map(i => `‚Ä¢ [${i.sku}] ${i.name}`).join('\n');
        
        const token = "6918546766:AAEWLatU6fz6ITX8OI81Hd6nrMc-jE8u5cU";
        const chat = "1246930818";

        fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ chat_id: chat, text: msg })
        }).then(() => {
            alert("–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –Ω–∞–¥—ñ—Å–ª–∞–Ω–æ!");
            cart = []; updateCart(); toggleCart();
        });
    }

    window.onload = render;
</script>
</body>
</html>
